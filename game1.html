<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <title>Space Invaders</title>
  <style>
    body {
      margin: 0;
      background-color: black;
      overflow: hidden;
    }
    canvas {
      display: block;
      margin: auto;
    }
  </style>
</head>
<body>
  <script src="https://pixijs.download/release/pixi.min.js"></script>
  <script>
    const app = new PIXI.Application({
      width: 800,
      height: 600,
      backgroundColor: 0x000000,
    });
    document.body.appendChild(app.view);

    // Гравець
    const player = new PIXI.Graphics();
    player.beginFill(0x00ff00);
    player.drawRect(0, 0, 50, 20);
    player.endFill();
    player.x = app.screen.width / 2 - 25;
    player.y = app.screen.height - 40;
    app.stage.addChild(player);

    // Прибульці
    const aliens = [];
    const alienRows = 3;
    const alienCols = 8;

    for (let row = 0; row < alienRows; row++) {
      for (let col = 0; col < alienCols; col++) {
        const alien = new PIXI.Graphics();
        alien.beginFill(0xff0000);
        alien.drawRect(0, 0, 40, 20);
        alien.endFill();
        alien.x = 80 + col * 60;
        alien.y = 50 + row * 40;
        app.stage.addChild(alien);
        aliens.push(alien);
      }
    }

    // Кулі
    const bullets = [];
    function shoot() {
      const bullet = new PIXI.Graphics();
      bullet.beginFill(0xffffff);
      bullet.drawRect(0, 0, 4, 10);
      bullet.endFill();
      bullet.x = player.x + 23;
      bullet.y = player.y;
      app.stage.addChild(bullet);
      bullets.push(bullet);
    }

    // Керування
    window.addEventListener("keydown", (e) => {
      if (e.code === "ArrowLeft") player.x -= 10;
      if (e.code === "ArrowRight") player.x += 10;
      if (e.code === "Space") shoot();
    });

    // Ігровий цикл
    app.ticker.add(() => {
      bullets.forEach((bullet, index) => {
        bullet.y -= 5;
        if (bullet.y < 0) {
          app.stage.removeChild(bullet);
          bullets.splice(index, 1);
        }

        aliens.forEach((alien, aIndex) => {
          if (
            bullet.x > alien.x &&
            bullet.x < alien.x + 40 &&
            bullet.y < alien.y + 20 &&
            bullet.y > alien.y
          ) {
            app.stage.removeChild(alien);
            aliens.splice(aIndex, 1);
            app.stage.removeChild(bullet);
            bullets.splice(index, 1);
          }
        });
      });
    });
  </script>
</body>
</html>


