<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <title>Dota 2 Counter Picker</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #111;
      color: #eee;
      text-align: center;
      padding: 20px;
    }
    select {
      margin: 5px;
      padding: 5px;
      min-width: 180px;
      background: #222;
      color: #fff;
      border: 1px solid #555;
      border-radius: 5px;
    }
    button {
      padding: 10px 20px;
      margin-top: 20px;
      font-size: 16px;
      cursor: pointer;
      border-radius: 5px;
      background: #28a745;
      color: white;
      border: none;
    }
    button:hover { background: #218838; }
    .results {
      margin-top: 30px;
      background: #222;
      padding: 20px;
      border-radius: 10px;
    }
    h2 { color: #ffcc00; }
    .container {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 20px;
    }
  </style>
</head>
<body>
  <h1>Dota 2 Counter Picker</h1>

  <div class="container">
    <div>
      <h2>–ú–æ—è –∫–æ–º–∞–Ω–¥–∞ (4 –≥–µ—Ä–æ—ó)</h2>
      <div id="myTeam"></div>
    </div>

    <div>
      <h2>–ö–æ–º–∞–Ω–¥–∞ –≤–æ—Ä–æ–≥–∞ (5 –≥–µ—Ä–æ—ó–≤)</h2>
      <div id="enemyTeam"></div>
    </div>
  </div>

  <button id="goButton">Go</button>

  <div class="results" id="results"></div>

  <script>
    let heroes = [];

    // –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î–º–æ heroes.json
    fetch("heroes.json")
      .then(response => response.json())
      .then(data => {
        heroes = data;
        createSelectors();
      })
      .catch(err => {
        console.error("‚ùå –ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ heroes.json:", err);
      });

    function createSelectors() {
      const myTeamDiv = document.getElementById("myTeam");
      const enemyTeamDiv = document.getElementById("enemyTeam");

      for (let i = 0; i < 4; i++) {
        myTeamDiv.appendChild(createHeroSelect(`myHero${i + 1}`));
      }
      for (let i = 0; i < 5; i++) {
        enemyTeamDiv.appendChild(createHeroSelect(`enemyHero${i + 1}`));
      }
    }

    function createHeroSelect(id) {
      const select = document.createElement("select");
      select.id = id;

      const defaultOption = document.createElement("option");
      defaultOption.value = "";
      defaultOption.textContent = "‚Äî –≤–∏–±–µ—Ä—ñ—Ç—å –≥–µ—Ä–æ—è ‚Äî";
      select.appendChild(defaultOption);

      heroes.forEach(hero => {
        const option = document.createElement("option");
        option.value = hero.name;
        option.textContent = hero.name;
        select.appendChild(option);
      });

      return select;
    }

    document.getElementById("goButton").addEventListener("click", () => {
      const myTeam = [];
      const enemyTeam = [];

      for (let i = 0; i < 4; i++) {
        const val = document.getElementById(`myHero${i + 1}`).value;
        if (val) myTeam.push(val);
      }
      for (let i = 0; i < 5; i++) {
        const val = document.getElementById(`enemyHero${i + 1}`).value;
        if (val) enemyTeam.push(val);
      }

      if (myTeam.length < 4 || enemyTeam.length < 5) {
        alert("–ë—É–¥—å –ª–∞—Å–∫–∞, –≤–∏–±–µ—Ä—ñ—Ç—å 4 —Å–≤–æ—ó—Ö –≥–µ—Ä–æ—ó–≤ —ñ 5 –≤–æ—Ä–æ–∂–∏—Ö!");
        return;
      }

      showBestPicks(myTeam, enemyTeam);
    });

    function showBestPicks(myTeam, enemyTeam) {
      const synergyScores = {};

      heroes.forEach(hero => {
        if (myTeam.includes(hero.name) || enemyTeam.includes(hero.name)) return;

        // —Ä–∞—Ö—É–Ω–æ–∫ –∫–æ–Ω—Ç—Ä–ø—ñ–∫ —Å–∏–ª–∏
        let counterScore = 0;
        enemyTeam.forEach(enemy => {
          const enemyData = heroes.find(h => h.name === enemy);
          if (!enemyData) return;
          if (hero.BestCounters.includes(enemy)) counterScore += 3;
          if (hero.commonCounters.includes(enemy)) counterScore += 1;
        });

        synergyScores[hero.name] = counterScore;
      });

      const sorted = Object.entries(synergyScores)
        .sort((a, b) => b[1] - a[1])
        .slice(0, 3);

      const resultDiv = document.getElementById("results");
      resultDiv.innerHTML = "<h2>üîπ –ù–∞–π–∫—Ä–∞—â—ñ –≥–µ—Ä–æ—ó –¥–ª—è –ø—ñ–∫—É:</h2>" +
        sorted.map(([name, score]) => `<p>${name} ‚Äî —Å–∏–ª–∞ –∫–æ–Ω—Ç—Ä–ø—ñ–∫—É: ${score}</p>`).join("");
    }
  </script>
</body>
</html>











