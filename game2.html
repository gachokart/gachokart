<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Dota 2 Draft Helper</title>
<style>
  body { font-family: Arial, sans-serif; background: #121212; color: #fff; text-align: center; padding: 20px; }
  h1 { color: #00ffcc; }
  h2 { color: #00ccff; margin-top: 30px; }
  select { width: 200px; margin: 5px; padding: 5px; border-radius: 5px; border: none; background: #1e1e1e; color: #fff; }
  button { padding: 10px 20px; margin-top: 20px; font-size: 16px; cursor: pointer; background: #00ffcc; border: none; border-radius: 8px; transition: 0.3s; }
  button:hover { background: #00cc99; }
  .team-container { display: flex; justify-content: center; flex-wrap: wrap; margin-bottom: 20px; }
  .result { margin-top: 30px; }
  .hero { background: #1e1e1e; border-radius: 8px; padding: 10px; margin: 10px; width: 200px; display: inline-block; }
</style>
</head>
<body>
<h1>Dota 2 Draft Helper</h1>

<h2>–ú–æ—è –∫–æ–º–∞–Ω–¥–∞</h2>
<div id="myTeam" class="team-container"></div>

<h2>–ö–æ–º–∞–Ω–¥–∞ –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞</h2>
<div id="enemyTeam" class="team-container"></div>

<button id="nextBtn">–ù–∞—Å—Ç—É–ø–Ω–∏–π –µ—Ç–∞–ø</button>
<div id="results" class="result"></div>

<script>
// =========================
// üî• –í–®–ò–¢–ò–ô heroes.json
// =========================
const heroes = [
  { "name": "Wraith King", "roles":["Melee","Carry","Disabler","Durable","Initiator"], "winrate":0.5257, "pickrate":0.095, "BestCounters":["Enigma","Ursa"], "commonCounters":["Chen","Underlord"] },
  { "name": "Vengeful Spirit", "roles":["Ranged","Disabler","Escape","Initiator","Nuker","Support"], "winrate":0.5453, "pickrate":0.1204, "BestCounters":["Legion Commander","Nyx Assassin"], "commonCounters":["Phantom Lancer","Chen"] },
  { "name": "Meepo", "roles":["Melee","Carry","Disabler","Escape","Initiator","Nuker","Pusher"], "winrate":0.4978, "pickrate":0.0287, "BestCounters":["Anti-Mage","Arc Warden"], "commonCounters":["Elder Titan","Winter Wyvern"] },
  { "name": "Broodmother", "roles":["Melee","Carry","Escape","Nuker","Pusher"], "winrate":0.548, "pickrate":0.0283, "BestCounters":["Arc Warden","Night Stalker"], "commonCounters":["Naga Siren","Earthshaker"] },
  { "name": "Juggernaut", "roles":["Melee","Carry","Escape","Pusher"], "winrate":0.5413, "pickrate":0.1842, "BestCounters":["Slardar","Phoenix"], "commonCounters":["Visage","Morphling"] },
  { "name": "Abaddon", "roles":["Carry","Melee"], "winrate":0.5319, "pickrate":0.0732, "BestCounters":["Silencer","Spectre"], "commonCounters":["Dark Seer","Elder Titan"] },
  { "name": "Slardar", "roles":["Melee","Carry","Disabler","Durable","Escape","Initiator"], "winrate":0.5368, "pickrate":0.0872, "BestCounters":["Anti-Mage","Lifestealer"], "commonCounters":["Chaos Knight","Terrorblade"] },
  { "name": "Silencer", "roles":["Ranged","Carry","Disabler","Initiator","Nuker","Support"], "winrate":0.5322, "pickrate":0.1613, "BestCounters":["Dawnbreaker","Timbersaw"], "commonCounters":["Tidehunter","Abaddon"] },
  {
    "name": "Meepo",
    "roles": ["Melee", "Carry", "Disabler", "Escape", "Initiator", "Nuker", "Pusher"],
    "winrate": 0.4978,
    "pickrate": 0.0287,
    "BestCounters": ["Anti-Mage", "Arc Warden", "Spectre", "Void Spirit", "Zeus", "Broodmother", "Storm Spirit", "Lycan", "Clockwerk", "Dark Seer"],
    "commonCounters": ["Elder Titan", "Winter Wyvern", "Earthshaker", "Lina", "Underlord", "Monkey King", "Troll Warlord", "Sven", "Batrider", "Shadow Fiend"]
  },
  {
    
    "name": "Broodmother",
    "roles": ["Melee", "Carry", "Escape", "Nuker", "Pusher"],
    "winrate": 0.5480,
    "pickrate": 0.0283,
    "BestCounters": ["Arc Warden", "Night Stalker", "Puck", "Elder Titan", "Clinkz", "Ursa", "Ember Spirit", "Silencer", "Zeus", "Nature's Prophet"],
    "commonCounters": ["Naga Siren", "Earthshaker", "Chen", "Dark Seer", "Crystal Maiden", "Necrophos", "Meepo", "Omniknight", "Sand King", "Axe"]
  },
  {
    
    "name": "Juggernaut",
    "roles": ["Melee", "Carry", "Escape", "Pusher"],
    "winrate": 0.5413,
    "pickrate": 0.1842,
    "BestCounters": ["Slardar", "Phoenix", "Tidehunter", "Centaur Warrunner", "Underlord", "Nyx Assassin", "Sand King", "Lifestealer", "Dark Willow", "Clockwerk"],
    "commonCounters": ["Visage", "Morphling", "Riki", "Chen", "Death Prophet", "Io", "Templar Assassin", "Lone Druid", "Doom", "Kez"]
  },
  {
    
    "name": "Abaddon",
    "roles": ["Carry", "Melee"],
    "winrate": 0.5319,
    "pickrate": 0.0732,
    "BestCounters": ["Silencer", "Spectre", "Axe", "Bane", "Wraith King", "Bounty Hunter", "Arc Warden", "Troll Warlord", "Batrider", "Queen of Pain"],
    "commonCounters": ["Dark Seer", "Elder Titan", "Chen", "Ancient Apparition", "Undying", "Doom", "Lycan", "Anti-Mage", "Outworld Destroyer", "Enchantress"]
  },
  {
    
    "name": "Lifestealer",
    "roles": ["Melee", "Carry", "Disabler", "Durable", "Escape"],
    "winrate": 0.5263,
    "pickrate": 0.1121,
    "BestCounters": ["Bloodseeker", "Sand King", "Tiny", "Wraith King", "Sven", "Techies", "Kunkka", "Nyx Assassin", "Centaur Warrunner", "Mars"],
    "commonCounters": ["Chen", "Chaos Knight", "Clinkz", "Doom", "Morphling", "Enigma", "Slardar", "Razor", "Nature's Prophet", "Naga Siren"]
  },
  {
    
    "name": "Slardar",
    "roles": ["Melee", "Carry", "Disabler", "Durable", "Escape", "Initiator"],
    "winrate": 0.5368,
    "pickrate": 0.0872,
    "BestCounters": ["Anti-Mage", "Lifestealer", "Sven", "Spectre", "Nyx Assassin", "Clinkz", "Ursa", "Elder Titan", "Lycan", "Lone Druid"],
    "commonCounters": ["Chaos Knight", "Terrorblade", "Phantom Lancer", "Naga Siren", "Tidehunter", "Chen", "Juggernaut", "Luna", "Dragon Knight", "Medusa"]
  },
  {
    
    "name": "Silencer",
    "roles": ["Ranged", "Carry", "Disabler", "Initiator", "Nuker", "Support"],
    "winrate": 0.5322,
    "pickrate": 0.1613,
    "BestCounters": ["Dawnbreaker", "Timbersaw", "Necrophos", "Witch Doctor", "Ursa", "Visage", "Sand King", "Storm Spirit", "Lich", "Primal Beast"],
    "commonCounters": ["Tidehunter", "Abaddon", "Naga Siren", "Phantom Lancer", "Huskar", "Slark", "Broodmother", "Lone Druid", "Morphling", "Lycan"]
  },
  {
    
    "name": "Dawnbreaker",
    "roles": ["Melee", "Carry", "Durable"],
    "winrate": 0.5262,
    "pickrate": 0.1464,
    "BestCounters": ["Bloodseeker", "Legion Commander", "Naga Siren", "Wraith King", "Chaos Knight", "Crystal Maiden", "Meepo", "Enigma", "Shadow Demon", "Phantom Assassin"],
    "commonCounters": ["Silencer", "Bristleback", "Phoenix", "Winter Wyvern", "Morphling", "Nyx Assassin", "Ursa", "Visage", "Pangolier", "Death Prophet"]
  },
  {
    
    "name": "Oracle",
    "roles": ["Ranged", "Disabler", "Escape", "Nuker", "Support"],
    "winrate": 0.5346,
    "pickrate": 0.0674,
    "BestCounters": ["Brewmaster", "Elder Titan", "Keeper of the Light", "Necrophos", "Ember Spirit", "Dark Seer", "Arc Warden", "Legion Commander", "Storm Spirit", "Ringmaster"],
    "commonCounters": ["Undying", "Anti-Mage", "Razor", "Io", "Pangolier", "Tinker", "Shadow Demon", "Marci", "Chaos Knight", "Omniknight"]
  },
  {
    
    "name": "Clinkz",
    "roles": ["Ranged", "Carry", "Escape", "Pusher"],
    "winrate": 0.5215,
    "pickrate": 0.0291,
    "BestCounters": ["Elder Titan", "Lifestealer", "Huskar", "Keeper of the Light", "Undying", "Bane", "Ursa", "Sven", "Leshrac", "Beastmaster"],
    "commonCounters": ["Phantom Lancer", "Broodmother", "Phantom Assassin", "Bristleback", "Morphling", "Kez", "Chaos Knight", "Spectre", "Slardar", "Luna"]
  },
  {
    
    "name": "Dazzle",
    "roles": ["Ranged", "Disabler", "Nuker", "Support"],
    "winrate": 0.5297,
    "pickrate": 0.0549,
    "BestCounters": ["Centaur Warrunner", "Chen", "Rubick", "Void Spirit", "Legion Commander", "Ringmaster", "Mars", "Clockwerk", "Enigma", "Phoenix"],
    "commonCounters": ["Ancient Apparition", "Elder Titan", "Weaver", "Monkey King", "Keeper of the Light", "Phantom Lancer", "Slark", "Doom", "Dark Seer", "Axe"]
  },
  {
    
    "name": "Winter Wyvern",
    "roles": ["Ranged", "Disabler", "Nuker", "Support"],
    "winrate": 0.5285,
    "pickrate": 0.0399,
    "BestCounters": ["Meepo", "Visage", "Legion Commander", "Terrorblade", "Lone Druid", "Arc Warden", "Broodmother", "Dawnbreaker", "Kunkka", "Troll Warlord"],
    "commonCounters": ["Timbersaw", "Keeper of the Light", "Razor", "Pugna", "Tinker", "Elder Titan", "Bane", "Ancient Apparition", "Outworld Destroyer", "Monkey King"]
  },
  {
    
    "name": "Lich",
    "roles": ["Ranged", "Nuker", "Support"],
    "winrate": 0.5268,
    "pickrate": 0.1123,
    "BestCounters": ["Lone Druid", "Meepo", "Chaos Knight", "Wraith King", "Vengeful Spirit", "Dragon Knight", "Spirit Breaker", "Tusk", "Marci", "Treant Protector"],
    "commonCounters": ["Brewmaster", "Bloodseeker", "Weaver", "Shadow Demon", "Dark Willow", "Pugna", "Bristleback", "Undying", "Ringmaster", "Lycan"]
  }
  // –º–æ–∂–µ—à –¥–æ–¥–∞—Ç–∏ –≤—Å—ñ —ñ–Ω—à–∏—Ö –≥–µ—Ä–æ—ó–≤ —Å—é–¥–∏
];

// =========================
// üß© –õ–æ–≥—ñ–∫–∞ –¥—Ä–∞—Ñ—Ç—É
// =========================
let stage = 1; // –ø–æ—Ç–æ—á–Ω–∞ —Å—Ç–∞–¥—ñ—è
const stageLimits = [
  { my: 2, enemy: 2 }, // —Å—Ç–∞–¥—ñ—è 1
  { my: 2, enemy: 2 }, // —Å—Ç–∞–¥—ñ—è 2
  { my: 1, enemy: 1 }  // —Å—Ç–∞–¥—ñ—è 3
];

document.addEventListener('DOMContentLoaded', () => {
  createSelectors();
});

function createSelectors() {
  const myTeamDiv = document.getElementById('myTeam');
  const enemyTeamDiv = document.getElementById('enemyTeam');

  const heroOptions = ['<option value="">–í–∏–±–µ—Ä–∏ –≥–µ—Ä–æ—è</option>']
    .concat(heroes.map(h => `<option value="${h.name}">${h.name}</option>`))
    .join('');

  const totalMy = stageLimits.map(s => s.my).reduce((a,b)=>a+b,0);
  const totalEnemy = stageLimits.map(s => s.enemy).reduce((a,b)=>a+b,0);

  for (let i = 0; i < totalMy; i++) { const select = document.createElement('select'); select.innerHTML = heroOptions; myTeamDiv.appendChild(select); }
  for (let i = 0; i < totalEnemy; i++) { const select = document.createElement('select'); select.innerHTML = heroOptions; enemyTeamDiv.appendChild(select); }

  updateSelects(); 
  document.getElementById('nextBtn').addEventListener('click', nextStage);

  const selects = Array.from(document.querySelectorAll('select'));
  selects.forEach(select => select.addEventListener('change', updateSelects));
}

// üîπ –ë–ª–æ–∫—É—î–º–æ –ø–æ–≤—Ç–æ—Ä–Ω—ñ –≥–µ—Ä–æ—ó–≤
function updateSelects() {
  const selects = Array.from(document.querySelectorAll('select'));
  const selectedHeroes = selects.map(s => s.value).filter(v => v!=='');
  selects.forEach(select => {
    const current = select.value;
    Array.from(select.options).forEach(opt => {
      if(opt.value==='') { opt.disabled=false; } 
      else { opt.disabled = selectedHeroes.includes(opt.value) && opt.value!==current; }
    });
  });
}

// üîπ –†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ —Ç–æ–ø –≥–µ—Ä–æ—ó–≤ –¥–ª—è –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ –ø—ñ–∫—É
function calculateBestPicks() {
  const myHeroes = Array.from(document.querySelectorAll('#myTeam select')).map(s=>s.value).filter(v=>v!=='');
  const enemyHeroes = Array.from(document.querySelectorAll('#enemyTeam select')).map(s=>s.value).filter(v=>v!=='');
  const selectsThisStage = stageLimits[stage-1];

  let scores = [];

  heroes.forEach(hero => {
    if(myHeroes.includes(hero.name) || enemyHeroes.includes(hero.name)) return;
    let score = 0;

    // —Å–∏–ª—å–Ω–∏–π –ø—Ä–æ—Ç–∏ –≤–æ—Ä–æ–≥—ñ–≤
    enemyHeroes.forEach(e=>{ 
      if(hero.BestCounters?.includes(e)) score+=1.5;
      if(hero.commonCounters?.includes(e)) score-=1;
    });

    // —Å–∏–Ω–µ—Ä–≥—ñ—è –∑ –∫–æ–º–∞–Ω–¥–æ—é
    myHeroes.forEach(my=>{
      const h = heroes.find(h=>h.name===my);
      if(h && h.roles.some(r=>hero.roles.includes(r))) score+=0.3;
    });

    if(hero.winrate) score+=hero.winrate*2;
    scores.push({hero:hero.name, score});
  });

  scores.sort((a,b)=>b.score-a.score);
  const top = scores.slice(0, Math.min(3, scores.length));

  const resultDiv = document.getElementById('results');
  resultDiv.innerHTML = `<h2>–¢–æ–ø-–≥–µ—Ä–æ—ó –¥–ª—è –Ω–∞—Å—Ç—É–ø–Ω–æ–≥–æ –ø—ñ–∫—É:</h2>` +
    top.map(t=>`<div class="hero"><h3>${t.hero}</h3><p>–û—Ü—ñ–Ω–∫–∞: ${t.score.toFixed(2)}</p></div>`).join('');
}

// üîπ –ö–Ω–æ–ø–∫–∞ "–ù–∞—Å—Ç—É–ø–Ω–∏–π –µ—Ç–∞–ø" –∞–±–æ "Go"
function nextStage() {
  const mySelected = Array.from(document.querySelectorAll('#myTeam select')).map(s=>s.value).filter(v=>v!=='');
  const enemySelected = Array.from(document.querySelectorAll('#enemyTeam select')).map(s=>s.value).filter(v=>v!=='');
  const limits = stageLimits[stage-1];

  if(mySelected.length<limits.my || enemySelected.length<limits.enemy){
    alert(`‚ö†Ô∏è –û–±–µ—Ä–∏ ${limits.my} –≥–µ—Ä–æ—ó–≤ —É —Å–≤–æ—é –∫–æ–º–∞–Ω–¥—É —Ç–∞ ${limits.enemy} —É –∫–æ–º–∞–Ω–¥—É —Å—É–ø–µ—Ä–Ω–∏–∫–∞!`);
    return;
  }

  if(stage<3){
    stage++;
    calculateBestPicks();
  } else {
    // –æ—Å—Ç–∞–Ω–Ω—è —Å—Ç–∞–¥—ñ—è, –ø–æ–∫–∞–∑—É—î–º–æ —à–∞–Ω—Å–∏
    const myTeam = mySelected;
    const enemyTeam = enemySelected;
    let myScore=0, enemyScore=0;

    heroes.forEach(h=>{
      if(myTeam.includes(h.name)){
        enemyTeam.forEach(e=>{
          if(h.BestCounters?.includes(e)) myScore+=1;
          if(h.commonCounters?.includes(e)) myScore-=0.5;
        });
      }
      if(enemyTeam.includes(h.name)){
        myTeam.forEach(m=>{
          if(h.BestCounters?.includes(m)) enemyScore+=1;
          if(h.commonCounters?.includes(m)) enemyScore-=0.5;
        });
      }
    });

    const myChance = Math.min(100, Math.max(0, 50 + (myScore - enemyScore)*10));
    document.getElementById('results').innerHTML = `<h2>–®–∞–Ω—Å –Ω–∞ –ø–µ—Ä–µ–º–æ–≥—É –º–æ—î—ó –∫–æ–º–∞–Ω–¥–∏: ${myChance.toFixed(0)}%</h2>`;
  }
}
</script>
</body>
</html>

































































